
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Experiment</title>

    <!-- Bootstrap core CSS -->
    <link href="../../lib/css/bootstrap.min.css" rel="stylesheet">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body role="document">
    
    <div class="container theme-showcase" role="main">

      </br>
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100" style="width: 5%;"><span class="sr-only">5% Complete</span></div>
      </div>

      <div class="page-header">
        <h1>Instructions</h1>
      </div>
      
      <div class="well" style="width:800px; margin: 0 auto">

	<h2><center>The Color Game</center>  </h2>

	<p> 

    In this experiment you will play a color matching game with another turker! One of you will be the "Director" and the other will be the "Matcher." At the beginning of each round, the Director will be shown a color, which we'll call the "target color":
</p>
    <p>
      <center><img src="images/targetColor.png" alt="Example gameplay" style="width:600px;height:302px"></center>
    </p>
<p>
  The Director's goal is to help the Matcher pick out the target color. The challenge is that the matcher can't see the color -- they only know what the Director tells them! To succeed, you'll have to communicate. Both players are given a chat box to send messages back and forth:
</p>
	<p>
	  <center><img src="images/chatBox.png" alt="Chat box" style="width:600px;height:243px"></center>
	</p>

	<p>
	  
	  When the Matcher is ready to pick out the color, they'll use a standard color wheel, like the one in Microsoft Paint or Adobe Photoshop:
	  
	</p>
	
	<p>
	  <center><img src="images/colorWheel.png" alt="Color wheel interface" style="width:600px;height:529px"></center>
	</p>

	<p>
	  If you click or drag anywhere on the circle, that color will show up in the preview square. 
	  </p>

	<p>
	  When you and your teammate are ready to submit your choice on a given trial, the Matcher should click on the "Submit" button in the upper left-hand corner of the screen. Please do not press this button before you are ready to submit.
	</p>
	
	<p>
	  <center><img src="images/submitButton.png" alt="submit button" style="width:600px;height:204px"></center>
	</p>
	
	<p>
	  After you submit, both players will see the target color as well as the Matcher's selection, which will show you how close you were. Additionally, we'll show you a numerical score of how similar the two colors are: 0 points if the colors are totally different (e.g. bright blue and yellow) and 30 points if the colors are very similar.
</p>

<p>
  There will be a total of 25 rounds, with the number of remaining rounds displayed on the side of the screen. A new target color is randomly chosen each round. After the last round you will fill out a quick survey and click the "submit HIT" button. This will automatically submit your HIT and exit the game!
</p>

	<p> A couple final notes: First, since you are playing with another turker, you may see this screen before the game begins. 

	<p>
	  <center><img src="images/waitScreen.png" alt="initial matcher's board" style="width:700px;height:150px"></center>
	</p>
      
	Just hold tight and feel free to work on another quick HIT while you wait for another turker to join. The tab will blink the word "GO!" when the game is ready to play -- please pay attention! Second, you may be as descriptive as you need to be in your messages to one another, but please do not send links to screenshots or other material that would obviously be considered "cheating". 
	</p>

<h4>
    Please fill out this short quiz below before getting started.
    Good luck and have fun! 
</h4>
	
      </div>
      <div class="page-header">
        <h3>Comprehension Quiz</h3>
      </div>
      
      <div class="well" style="width:800px; margin: 0 auto">
	
  </br>
  The director is given a random color each round
    </br>
    <input type="radio" name="dgoal" value="yes"> True
    </br>
    <input type="radio" name="dgoal" value="no"> False
    </br>


  </br>
  The matcher wants to guess a color as close as possible to the target color
      </br>
      <input type="radio" name="mgoal" value="no"> False
      </br>
      <input type="radio" name="mgoal" value="yes"> True
      </br>
    

  </br> 
  There are a total of 3 rounds
      </br>
      <input type="radio" name="round" value="yes"> False
      </br>
      <input type="radio" name="round" value="no"> True
      </br>

  </br> 
  Only the director can send messages 
      </br>
      <input type="radio" name="message" value="yes"> False
      </br>
      <input type="radio" name="message" value="no"> True
      </br>

  </br> 
  At the end of each round
       </br>
       <input type="radio" name="comp" value="no"> You will switch partners
       </br>
       <input type="radio" name="comp" value="yes"> You will see your score
       </br>
    
  </br>
  Have you participated in this study before? 
        </br>
        <input type="radio" name="completed" value="no"> Yes
        </br>
        <input type="radio" name="completed" value="yes"> No
        </br>

  </br>
    <input id="quiz_submit" type="submit" value="Submit"> 
      </br>
      </br>
  <div class="error" style="display:none"> Ooops! Looks like you made a mistake. You have one more try. </div>
    </div> <!-- /container -->
      </div>
    <script type="text/javascript">
      $('html,body').scrollTop(0);
      var urlParams;
	var match,
	      pl     = /\+/g,  // Regex for replacing addition symbol with a space
	      search = /([^&=]+)=?([^&]*)/g,
	      decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
	      query  = location.search.substring(1);

      urlParams = {};
      while (match = search.exec(query))
      urlParams[decode(match[1])] = decode(match[2]);
      
      console.log(urlParams)

      var counter = 0;
      document.getElementById("quiz_submit").onclick = function () {
        var ans1 = $('input[name="dgoal"]:checked').val();
        var ans2 = $('input[name="mgoal"]:checked').val();
        var ans3 = $('input[name="round"]:checked').val();
        var ans4 = $('input[name="message"]:checked').val();
        var ans5 = $('input[name="comp"]:checked').val();
        var ans6 = $('input[name="completed"]:checked').val();

        if(ans1 == "yes" && ans2 == "yes" && ans3 == "yes" && 
           ans4 == "yes" && ans5 == "yes" && ans6 == "yes") {
           var workerId = urlParams.workerId;
           var assignmentId = urlParams.assignmentId;
           var hitId = urlParams.hitId;
           var turkSubmitTo = urlParams.turkSubmitTo;
           location.replace("./pass.html?workerId=" + workerId
                            + "&assignmentId=" + assignmentId
                            + "&hitId=" + hitId + "&turkSubmitTo=" + turkSubmitTo);
        } else if(counter == 3) {
          location.replace("./fail.html");
        } else {
          $('.error').show()
          counter += 1;
        }
      };
    </script>
    
    <script src="./validate-form.js"></script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="../../lib/js/bootstrap.min.js"></script>
  </body>
</html>
